---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';
import FormattedDate from './FormattedDate.astro';

interface Props {
	post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
---

<a href={`/blog/${post.id}/`} class="post-card">
	{post.data.heroImage && (
		<Image
			width={720}
			height={360}
			src={post.data.heroImage}
			alt={post.data.title}
			class="post-image"
		/>
	)}
	<div class="post-content">
		<h3 class="title">{post.data.title}</h3>
		<p class="description">{post.data.description}</p>
		<p class="date">
			<FormattedDate date={post.data.pubDate} />
		</p>
	</div>
</a>

<style>
	.post-card {
		display: flex;
		flex-direction: column;
		background-color: var(--cosmic-void);
		border: 1px solid var(--oxygen-blue);
		border-radius: 8px;
		overflow: hidden;
		text-decoration: none;
		color: inherit;
		box-shadow: var(--box-shadow);
		transition: transform 0.3s ease, border-color 0.3s ease;
	}
	.post-card:hover {
		transform: translateY(-5px);
		border-color: var(--nitrogen-red);
	}
	.post-image {
		width: 100%;
		height: 200px;
		object-fit: cover;
	}
	.post-content {
		padding: 1.5em;
	}
	.title {
		color: var(--golden-touch);
		font-size: 1.5em;
		margin-top: 0;
		margin-bottom: 0.5em;
	}
	.description {
		color: var(--guide-light);
		font-size: 1em;
		line-height: 1.6;
		margin-bottom: 1em;
	}
	.date {
		color: var(--gray);
		font-size: 0.9em;
	}
</style>
